# Recolector de fuentes

- Fecha de generaci√≥n: 2025-11-03 12:00:30
- Ra√≠z: `/home/sulbaranjc/proyectos/python/backend/fastapi/api/fastapi_clase01`
- Archivo de salida: `repositorio.txt` (chunk 1/1)

## √Årbol de archivos incluidos

```text

```

## √çndice global (archivo ‚Üí chunk)

- [001] .gitignore
- [001] main.py
- [001] README.md
- [001] requirements.txt

## Archivos omitidos (razones)

_No se omitieron archivos._

---

README.md
-----
```markdown
# üìö FastAPI - Ejemplo B√°sico para Estudiantes
# üìö Fuente - [Ejemplo B√°sico para Estudiantes](https://www.youtube.com/watch?v=ZcfcWQafkjw&t=1656s)


## üéØ Descripci√≥n del Proyecto

Este proyecto es un **ejemplo did√°ctico** para aprender a desarrollar APIs REST con **FastAPI**, uno de los frameworks m√°s modernos y eficientes de Python. 

La aplicaci√≥n implementa un **blog b√°sico** con operaciones CRUD (Create, Read, Update, Delete) para gestionar posts, demostrando los conceptos fundamentales del desarrollo de APIs.

## üöÄ ¬øQu√© es FastAPI?

**FastAPI** es un framework web moderno y r√°pido para construir APIs con Python basado en las anotaciones de tipos est√°ndar de Python. Sus principales caracter√≠sticas son:

- ‚ö° **Muy r√°pido**: Uno de los frameworks m√°s r√°pidos disponibles
- üìñ **Documentaci√≥n autom√°tica**: Genera documentaci√≥n interactiva autom√°ticamente
- üîç **Validaci√≥n autom√°tica**: Valida datos usando Pydantic
- üêç **Moderno**: Aprovecha las caracter√≠sticas m√°s recientes de Python
- üõ°Ô∏è **Seguro**: Incluye caracter√≠sticas de seguridad por defecto

## üõ†Ô∏è Instalaci√≥n y Configuraci√≥n

### Prerrequisitos
- Python 3.7+ instalado en tu sistema
- pip (gestor de paquetes de Python)

### 1. Clonar o descargar el proyecto
```bash
# Si tienes Git instalado
git clone https://github.com/sulbaranjc/fastapi_clase01.git
cd fastapi_clase01

# O simplemente descarga los archivos del proyecto
```

### 2. Crear un entorno virtual (recomendado)
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

### 3. Instalar las dependencias
```bash
pip install -r requirements.txt
```

### 4. Ejecutar la aplicaci√≥n
```bash
uvicorn main:app --reload
```

¬°Listo! Tu API estar√° disponible en: **http://localhost:8000**

## üìã Estructura del Proyecto

```
fastapi/
‚îÇ
‚îú‚îÄ‚îÄ main.py              # Archivo principal con la l√≥gica de la API
‚îú‚îÄ‚îÄ requirements.txt     # Dependencias del proyecto
‚îú‚îÄ‚îÄ README.md           # Este archivo
‚îî‚îÄ‚îÄ __pycache__/        # Cache de Python (generado autom√°ticamente)
```

## üåê Endpoints Disponibles

### üìñ Documentaci√≥n Interactiva
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### üîó Rutas de la API

| M√©todo | Ruta | Descripci√≥n | Ejemplo |
|--------|------|-------------|---------|
| `GET` | `/` | Mensaje de bienvenida | `http://localhost:8000/` |
| `GET` | `/posts` | Obtener todos los posts | `http://localhost:8000/posts` |
| `POST` | `/posts/create` | Crear un nuevo post | `http://localhost:8000/posts/create` |
| `GET` | `/posts/{post_id}` | Obtener post por ID | `http://localhost:8000/posts/abc-123` |
| `PUT` | `/posts/update/{post_id}` | Actualizar un post | `http://localhost:8000/posts/update/abc-123` |
| `DELETE` | `/posts/delete/{post_id}` | Eliminar un post | `http://localhost:8000/posts/delete/abc-123` |

## üìù Ejemplos de Uso

### 1. Crear un nuevo post
```bash
# Usando curl
curl -X POST "http://localhost:8000/posts/create" \
     -H "Content-Type: application/json" \
     -d '{
       "title": "Mi primer post",
       "author": "Estudiante ILERNA",
       "content": "Este es mi primer post usando FastAPI. ¬°Est√° genial!"
     }'
```

### 2. Obtener todos los posts
```bash
curl -X GET "http://localhost:8000/posts"
```

### 3. Obtener un post espec√≠fico
```bash
curl -X GET "http://localhost:8000/posts/{post_id}"
```

### 4. Actualizar un post
```bash
curl -X PUT "http://localhost:8000/posts/update/{post_id}" \
     -H "Content-Type: application/json" \
     -d '{
       "title": "T√≠tulo actualizado",
       "author": "Autor actualizado",
       "content": "Contenido actualizado del post"
     }'
```

### 5. Eliminar un post
```bash
curl -X DELETE "http://localhost:8000/posts/delete/{post_id}"
```

## üéì Conceptos Aprendidos

### üîß Tecnolog√≠as Utilizadas
- **FastAPI**: Framework principal para crear la API
- **Pydantic**: Validaci√≥n y serializaci√≥n de datos
- **Uvicorn**: Servidor ASGI para ejecutar la aplicaci√≥n
- **Python Type Hints**: Anotaciones de tipos para mejor c√≥digo

### üìö Conceptos de APIs REST
- **M√©todos HTTP**: GET, POST, PUT, DELETE
- **C√≥digos de estado**: 200 (OK), 404 (Not Found), 422 (Validation Error)
- **Rutas parametrizadas**: `/posts/{post_id}`
- **Validaci√≥n de datos**: Autom√°tica con Pydantic
- **Serializaci√≥n JSON**: Conversi√≥n autom√°tica de objetos Python

### üèóÔ∏è Patrones de Dise√±o
- **Modelos de datos**: Separaci√≥n entre `Post` y `PostUpdate`
- **Manejo de errores**: Uso de `HTTPException`
- **Documentaci√≥n**: Docstrings y comentarios explicativos

## üö® Importante para Estudiantes

### ‚ö†Ô∏è Limitaciones de este ejemplo
- **Base de datos en memoria**: Los datos se pierden al reiniciar la aplicaci√≥n
- **Sin persistencia**: En un proyecto real usar√≠as PostgreSQL, MySQL, etc.
- **Sin autenticaci√≥n**: No hay sistema de usuarios o permisos
- **Sin validaciones avanzadas**: Ejemplo b√°sico para aprendizaje

### üéØ Pr√≥ximos pasos sugeridos
1. Agregar una base de datos real (SQLAlchemy + PostgreSQL)
2. Implementar autenticaci√≥n y autorizaci√≥n
3. Agregar m√°s validaciones a los modelos
4. Implementar paginaci√≥n para los posts
5. Agregar pruebas unitarias
6. Desplegar en la nube (Heroku, Railway, etc.)

## üõ†Ô∏è Dependencias del Proyecto

```
fastapi==0.104.1        # Framework principal
uvicorn[standard]==0.24.0  # Servidor ASGI
pydantic==2.5.0         # Validaci√≥n de datos
```

## üêõ Soluci√≥n de Problemas Comunes

### Error: "ModuleNotFoundError"
```bash
# Aseg√∫rate de haber instalado las dependencias
pip install -r requirements.txt
```

### Error: "Port already in use"
```bash
# Cambia el puerto si el 8000 est√° ocupado
uvicorn main:app --reload --port 8001
```

### La aplicaci√≥n no recarga autom√°ticamente
```bash
# Aseg√∫rate de usar la opci√≥n --reload
uvicorn main:app --reload
```

## üìû Soporte y Contacto

- **Profesor**: Juan Carlos Sulbar√°n
- **Instituci√≥n**: ILERNA
- **Curso**: CMO Programaci√≥n en Python 2025-2026

## üìÑ Licencia

Este proyecto es con fines educativos para los estudiantes de ILERNA.

---

### üéâ ¬°Felicitaciones!

Si has llegado hasta aqu√≠ y has logrado ejecutar la aplicaci√≥n, ¬°has dado tus primeros pasos en el desarrollo de APIs con FastAPI! 

**Contin√∫a practicando y experimentando con el c√≥digo.** üöÄ

---

**Desarrollado con ‚ù§Ô∏è para los estudiantes de ILERNA**
```

requirements.txt
-----
```
annotated-types==0.7.0
anyio==4.6.0
black==25.9.0
click==8.1.7
fastapi==0.115.0
h11==0.14.0
idna==3.10
mypy_extensions==1.1.0
packaging==25.0
pathspec==0.12.1
platformdirs==4.5.0
pydantic==2.9.2
pydantic_core==2.23.4
pytokens==0.2.0
sniffio==1.3.1
starlette==0.38.6
typing_extensions==4.12.2
uvicorn==0.30.6

```

main.py
-----
```python
# ============================================================================
# EJEMPLO B√ÅSICO DE API REST CON FASTAPI
# ============================================================================
# Este archivo demuestra c√≥mo crear una API REST b√°sica para un blog
# utilizando FastAPI, uno de los frameworks m√°s populares de Python

# IMPORTACIONES NECESARIAS
# ============================================================================

# FastAPI: Framework principal para crear APIs REST modernas y r√°pidas
# HTTPException: Para manejar errores HTTP de manera elegante
from fastapi import FastAPI, HTTPException

# BaseModel: Clase base de Pydantic para crear modelos de datos con validaci√≥n autom√°tica
from pydantic import BaseModel

# Para trabajar con fechas y timestamps
from datetime import datetime

# Para generar identificadores √∫nicos (UUID) para nuestros posts
from uuid import uuid4 as uuid

# Tipos de datos especiales para hacer el c√≥digo m√°s legible y seguro
from typing import Optional, Text

# INICIALIZACI√ìN DE LA APLICACI√ìN FASTAPI
# ============================================================================
# Creamos la instancia principal de nuestra aplicaci√≥n
# FastAPI() crea autom√°ticamente documentaci√≥n interactiva en /docs
app = FastAPI()

# BASE DE DATOS EN MEMORIA (SIMULADA)
# ============================================================================
# En un proyecto real, esto ser√≠a una base de datos como PostgreSQL, MySQL, etc.
# Para este ejemplo did√°ctico, usamos una lista simple en memoria
posts = []

# MODELOS DE DATOS (SCHEMAS)
# ============================================================================
# Los modelos definen la estructura de los datos que acepta nuestra API
# Pydantic se encarga autom√°ticamente de validar que los datos cumplan estas reglas


# Modelo principal para crear y representar un post del blog
class Post(BaseModel):
    id: Optional[str]  # ID √∫nico, se genera autom√°ticamente, por eso es opcional
    title: str  # T√≠tulo del post (obligatorio)
    author: str  # Autor del post (obligatorio)
    content: Text  # Contenido del post (texto largo, obligatorio)
    created_at: datetime = datetime.now()  # Fecha de creaci√≥n (autom√°tica)
    published_at: Optional[datetime] = None  # Fecha de publicaci√≥n (opcional)
    published: bool = False  # Estado de publicaci√≥n (por defecto no publicado)


# Modelo espec√≠fico para actualizaciones
# Separamos este modelo para tener m√°s control sobre qu√© campos se pueden actualizar
class PostUpdate(BaseModel):
    title: str
    author: str
    content: Text
    created_at: datetime = datetime.now()


# ENDPOINTS DE LA API (RUTAS)
# ============================================================================
# Los endpoints definen las URLs y m√©todos HTTP que acepta nuestra API


# ENDPOINT RA√çZ - GET /
# ============================================================================
# Decorador @app.get: Define una ruta que responde a peticiones GET
# El '/' indica que es la ruta ra√≠z de nuestra API (ejemplo: http://localhost:8000/)
@app.get("/")
def read_root():
    """
    Endpoint de bienvenida - Punto de entrada principal de la API

    Returns:
        dict: Mensaje de bienvenida en formato JSON
    """
    return {"Welcome": "Bienvenido a mi Clase de FastAPI"}


# OBTENER TODOS LOS POSTS - GET /posts
# ============================================================================
@app.get("/posts")
def get_posts():
    """
    Obtiene todos los posts del blog

    Returns:
        list: Lista con todos los posts almacenados en memoria

    Ejemplo de uso:
        GET http://localhost:8000/posts
    """
    return posts


# CREAR NUEVO POST - POST /posts/create
# ============================================================================
@app.post("/posts/create")
def create_post(post: Post):
    """
        Crea un nuevo post en el blog

        Args:
            post (Post): Objeto Post con los datos del nuevo post
                        FastAPI autom√°ticamente valida que los datos cumplan el modelo

        Returns:
            dict: Mensaje de confirmaci√≥n

        Ejemplo de uso:
            POST http://localhost:8000/posts/create
            Body (JSON):
    {
      "id": "art-20251102-001",
      "title": "C√≥mo crear un monolito Python con FastAPI y Jinja2 paso a paso",
      "author": "Juan Carlos Sulbar√°n Gonz√°lez",
      "content": "En este art√≠culo exploraremos c√≥mo montar un monolito web en Python utilizando FastAPI y Jinja2. Veremos c√≥mo estructurar las carpetas, crear rutas GET y POST, validar formularios tanto en el frontend como en el backend, y finalmente desplegar el proyecto en un entorno local con Uvicorn. Este enfoque did√°ctico est√° pensado para estudiantes de FP en Desarrollo de Aplicaciones Web y Multiplataforma.",
      "created_at": "2025-11-02T21:39:47.784832",
      "published_at": "2025-11-02T22:00:00.000Z",
      "published": true
    }
    """
    # Generamos un ID √∫nico para el post
    post.id = str(uuid())

    # Convertimos el objeto Pydantic a diccionario y lo agregamos a nuestra "base de datos"
    posts.append(post.model_dump())

    return {"message": "Post creado satisfactoriamente"}


# OBTENER POST POR ID - GET /posts/{post_id}
# ============================================================================
@app.get("/posts/{post_id}")
def get_post_by_id(post_id: str):
    """
    Obtiene un post espec√≠fico por su ID √∫nico

    Args:
        post_id (str): ID √∫nico del post que queremos obtener
                      Se extrae autom√°ticamente de la URL

    Returns:
        dict: Los datos del post encontrado

    Raises:
        HTTPException: Error 404 si el post no existe

    Ejemplo de uso:
        GET http://localhost:8000/posts/abc-123-def-456
    """
    # Buscamos el post en nuestra lista
    for post in posts:
        if post["id"] == post_id:
            return post

    # Si no encontramos el post, lanzamos una excepci√≥n HTTP 404
    raise HTTPException(status_code=404, detail="Post no encontrado")


# ELIMINAR POST - DELETE /posts/delete/{post_id}
# ============================================================================
@app.delete("/posts/delete/{post_id}")
def delete_post(post_id: str):
    """
    Elimina un post espec√≠fico por su ID

    Args:
        post_id (str): ID √∫nico del post que queremos eliminar

    Returns:
        dict: Mensaje de confirmaci√≥n de eliminaci√≥n

    Raises:
        HTTPException: Error 404 si el post no existe

    Ejemplo de uso:
        DELETE http://localhost:8000/posts/delete/abc-123-def-456
    """
    # enumerate() nos da tanto el √≠ndice como el valor en cada iteraci√≥n
    for index, post in enumerate(posts):
        if post["id"] == post_id:
            # pop() elimina el elemento en la posici√≥n indicada
            posts.pop(index)
            return {"message": "Post eliminado correctamente"}

    # Si llegamos aqu√≠, el post no fue encontrado
    raise HTTPException(status_code=404, detail="Post no encontrado")


# ACTUALIZAR POST - PUT /posts/update/{post_id}
# ============================================================================
@app.put("/posts/update/{post_id}")
def update_post(post_id: str, updatedPost: PostUpdate):
    """
    Actualiza un post existente con nuevos datos

    Args:
        post_id (str): ID √∫nico del post que queremos actualizar
        updatedPost (PostUpdate): Nuevos datos para el post
                                 FastAPI valida autom√°ticamente este objeto

    Returns:
        dict: Mensaje de confirmaci√≥n de actualizaci√≥n

    Raises:
        HTTPException: Error 404 si el post no existe

    Ejemplo de uso:
        PUT http://localhost:8000/posts/update/abc-123-def-456
        Body (JSON):
        {
            "title": "T√≠tulo actualizado",
            "author": "Autor actualizado",
            "content": "Contenido actualizado..."
        }
    """
    # Buscamos el post que queremos actualizar
    for post in posts:
        if post["id"] == post_id:
            # update() fusiona los nuevos datos con los existentes
            # model_dump() convierte el objeto Pydantic a diccionario
            post.update(updatedPost.model_dump())
            return {"message": "Post actualizado correctamente"}

    # Si el post no existe, lanzamos error 404
    raise HTTPException(status_code=404, detail="Post no encontrado")


# ============================================================================
# NOTAS IMPORTANTES PARA ESTUDIANTES:
# ============================================================================
#
# 1. M√âTODOS HTTP utilizados:
#    - GET: Para obtener datos (lectura)
#    - POST: Para crear nuevos recursos
#    - PUT: Para actualizar recursos existentes
#    - DELETE: Para eliminar recursos
#
# 2. C√ìDIGOS DE ESTADO HTTP:
#    - 200: OK (operaci√≥n exitosa)
#    - 404: Not Found (recurso no encontrado)
#    - 422: Unprocessable Entity (datos inv√°lidos - autom√°tico con Pydantic)
#
# 3. VALIDACI√ìN AUTOM√ÅTICA:
#    FastAPI + Pydantic validan autom√°ticamente los datos de entrada
#    Si los datos no cumplen el modelo, se devuelve error 422
#
# 4. DOCUMENTACI√ìN AUTOM√ÅTICA:
#    Visita http://localhost:8000/docs para ver la documentaci√≥n interactiva
#    Tambi√©n disponible en formato ReDoc en http://localhost:8000/redoc
#
# 5. PARA EJECUTAR ESTA API:
#    uvicorn main:app --reload
#    Esto iniciar√° el servidor en http://localhost:8000
#
# ============================================================================

```

.gitignore
-----
```
# Created by https://www.toptal.com/developers/gitignore/api/python
# Edit at https://www.toptal.com/developers/gitignore?templates=python

### Python ###
# Byte-compiled / optimized / DLL files
__pycache__/
*.py[cod]
*$py.class

# C extensions
*.so

# Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
share/python-wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# PyInstaller
#  Usually these files are written by a python script from a template
#  before PyInstaller builds the exe, so as to inject date/other infos into it.
*.manifest
*.spec

# Installer logs
pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py,cover
.hypothesis/
.pytest_cache/
cover/

# Translations
*.mo
*.pot

# Django stuff:
*.log
local_settings.py
db.sqlite3
db.sqlite3-journal

# Flask stuff:
instance/
.webassets-cache

# Scrapy stuff:
.scrapy

# Sphinx documentation
docs/_build/

# PyBuilder
.pybuilder/
target/

# Jupyter Notebook
.ipynb_checkpoints

# IPython
profile_default/
ipython_config.py

# pyenv
#   For a library or package, you might want to ignore these files since the code is
#   intended to run in multiple environments; otherwise, check them in:
# .python-version

# pipenv
#   According to pypa/pipenv#598, it is recommended to include Pipfile.lock in version control.
#   However, in case of collaboration, if having platform-specific dependencies or dependencies
#   having no cross-platform support, pipenv may install dependencies that don't work, or not
#   install all needed dependencies.
#Pipfile.lock

# poetry
#   Similar to Pipfile.lock, it is generally recommended to include poetry.lock in version control.
#   This is especially recommended for binary packages to ensure reproducibility, and is more
#   commonly ignored for libraries.
#   https://python-poetry.org/docs/basic-usage/#commit-your-poetrylock-file-to-version-control
#poetry.lock

# pdm
#   Similar to Pipfile.lock, it is generally recommended to include pdm.lock in version control.
#pdm.lock
#   pdm stores project-wide configurations in .pdm.toml, but it is recommended to not include it
#   in version control.
#   https://pdm.fming.dev/#use-with-ide
.pdm.toml

# PEP 582; used by e.g. github.com/David-OConnor/pyflow and github.com/pdm-project/pdm
__pypackages__/

# Celery stuff
celerybeat-schedule
celerybeat.pid

# SageMath parsed files
*.sage.py

# Environments
.env
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# Spyder project settings
.spyderproject
.spyproject

# Rope project settings
.ropeproject

# mkdocs documentation
/site

# mypy
.mypy_cache/
.dmypy.json
dmypy.json

# Pyre type checker
.pyre/

# pytype static type analyzer
.pytype/

# Cython debug symbols
cython_debug/

# PyCharm
#  JetBrains specific template is maintained in a separate JetBrains.gitignore that can
#  be found at https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore
#  and can be added to the global gitignore or merged into this file.  For a more nuclear
#  option (not recommended) you can uncomment the following to ignore the entire idea folder.
#.idea/

### Python Patch ###
# Poetry local configuration file - https://python-poetry.org/docs/configuration/#local-configuration
poetry.toml

# ruff
.ruff_cache/

# LSP config files
pyrightconfig.json

# End of https://www.toptal.com/developers/gitignore/api/python
.vscode

```

